import{S as t,i as e,s as r,e as l,a as s,t as a,c as n,b as o,d as c,f as h,g as i,h as g,j as u,k as f,l as d,m,n as p,o as b,p as y,q as k,r as v,u as S,v as $,w as P,x as w,y as x}from"./vendor.de7152ba.js";function B(t,e,r){const l=t.slice();return l[6]=e[r],l}function E(t,e,r){const l=t.slice();return l[9]=e[r],l}function N(t){let e,r,s,c,p,b=t[1][t[6]][t[9]]+"";function y(){return t[5](t[6],t[9])}return{c(){e=l("button"),r=a(b),this.h()},l(t){e=n(t,"BUTTON",{class:!0});var l=o(e);r=h(l,b),l.forEach(i),this.h()},h(){g(e,"class",s=t[4](t[6],t[9],t[1][t[6]][t[9]]))},m(t,l){u(t,e,l),f(e,r),c||(p=d(e,"click",y),c=!0)},p(l,a){t=l,2&a&&b!==(b=t[1][t[6]][t[9]]+"")&&m(r,b),2&a&&s!==(s=t[4](t[6],t[9],t[1][t[6]][t[9]]))&&g(e,"class",s)},d(t){t&&i(e),c=!1,p()}}}function T(t){let e,r,a=t[3],o=[];for(let l=0;l<a.length;l+=1)o[l]=N(E(t,a,l));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=s(),r=l("br")},l(t){for(let e=0;e<o.length;e+=1)o[e].l(t);e=c(t),r=n(t,"BR",{})},m(t,l){for(let e=0;e<o.length;e+=1)o[e].m(t,l);u(t,e,l),u(t,r,l)},p(t,r){if(27&r){let l;for(a=t[3],l=0;l<a.length;l+=1){const s=E(t,a,l);o[l]?o[l].p(s,r):(o[l]=N(s),o[l].c(),o[l].m(e.parentNode,e))}for(;l<o.length;l+=1)o[l].d(1);o.length=a.length}},d(t){p(o,t),t&&i(e),t&&i(r)}}}function C(t){let e,r,m,b,y,v,S,$,P=t[3],w=[];for(let l=0;l<P.length;l+=1)w[l]=T(B(t,P,l));return{c(){e=l("div");for(let t=0;t<w.length;t+=1)w[t].c();r=s(),m=l("br"),b=s(),y=l("button"),v=a("ゲームスタート"),this.h()},l(t){e=n(t,"DIV",{class:!0});var l=o(e);for(let e=0;e<w.length;e+=1)w[e].l(l);r=c(l),m=n(l,"BR",{}),b=c(l),y=n(l,"BUTTON",{class:!0});var s=o(y);v=h(s,"ゲームスタート"),s.forEach(i),l.forEach(i),this.h()},h(){g(y,"class","border-2 border-black hover:bg-black hover:text-white"),g(e,"class","text-center")},m(l,s){u(l,e,s);for(let t=0;t<w.length;t+=1)w[t].m(e,null);f(e,r),f(e,m),f(e,b),f(e,y),f(y,v),S||($=d(y,"click",(function(){k(t[0].start)&&t[0].start.apply(this,arguments)})),S=!0)},p(l,s){if(t=l,27&s){let l;for(P=t[3],l=0;l<P.length;l+=1){const a=B(t,P,l);w[l]?w[l].p(a,s):(w[l]=T(a),w[l].c(),w[l].m(e,r))}for(;l<w.length;l+=1)w[l].d(1);w.length=P.length}},d(t){t&&i(e),p(w,t),S=!1,$()}}}function j(t){let e,l=t[2],s=C(t);return{c(){s.c(),e=b()},l(t){s.l(t),e=b()},m(t,r){s.m(t,r),u(t,e,r)},p(t,[a]){4&a&&r(l,l=t[2])?(s.d(1),s=C(t),s.c(),s.m(e.parentNode,e)):s.p(t,a)},i:y,o:y,d(t){t&&i(e),s.d(t)}}}function I(t,e,r){let{gm:l}=e,{block:s}=e,{turn:a}=e;return t.$$set=t=>{"gm"in t&&r(0,l=t.gm),"block"in t&&r(1,s=t.block),"turn"in t&&r(2,a=t.turn)},[l,s,a,[0,1,2],(t,e,r)=>{let l="";console.log("gm turn",a),1===a&&0===r?l="hover:bg-red-500":0===a&&0===r&&(l="hover:bg-blue-500");let s="";return 2===r?s="bg-red-500":1===r&&(s="bg-blue-500"),"w-20 h-20 border "+l+" "+s},(t,e)=>{l.clicked(t,e)}]}class O extends t{constructor(t){super(),e(this,t,I,j,r,{gm:0,block:1,turn:2})}}function R(t){let e,r,d,p,b;return e=new O({props:{gm:t[3],block:t[0],turn:t[2]}}),{c(){v(e.$$.fragment),r=s(),d=l("p"),p=a(t[1]),this.h()},l(l){S(e.$$.fragment,l),r=c(l),d=n(l,"P",{class:!0});var s=o(d);p=h(s,t[1]),s.forEach(i),this.h()},h(){g(d,"class","text-center")},m(t,l){$(e,t,l),u(t,r,l),u(t,d,l),f(d,p),b=!0},p(t,[r]){const l={};8&r&&(l.gm=t[3]),1&r&&(l.block=t[0]),4&r&&(l.turn=t[2]),e.$set(l),(!b||2&r)&&m(p,t[1])},i(t){b||(P(e.$$.fragment,t),b=!0)},o(t){w(e.$$.fragment,t),b=!1},d(t){x(e,t),t&&i(r),t&&i(d)}}}function U(t,e,r){let l,s,a=[[0,0,0],[0,0,0],[0,0,0]],n="",o=!1;var c,h;(h=c||(c={}))[h.Player1=0]="Player1",h[h.Player2=1]="Player2";return r(3,l=new class{constructor(){this.row=[0,1,2],this.player1State=[[0,0,0],[0,0,0],[0,0,0]],this.player2State=[[0,0,0],[0,0,0],[0,0,0]],this.row=[0,1,2],r(2,s=c.Player1)}clicked(t,e){console.log(o),0===a[t][e]&&o&&(s==c.Player1?(r(0,a[t][e]=1,a),r(1,n="プレイヤー2はボタンを押してください"),this.player2State[t][e]=1,this.isCleared(t,e,this.player2State),r(2,s=c.Player2)):(r(0,a[t][e]=2,a),r(1,n="プレイヤー1はボタンを押してください"),this.player1State[t][e]=2,this.isCleared(t,e,this.player1State),r(2,s=c.Player1)))}start(){r(1,n="プレイヤー1はボタンを押してください"),o=!0,console.log(o),r(0,a=[[0,0,0],[0,0,0],[0,0,0]])}isCleared(t,e,r){let l=1,s=1,a=1,n=1;console.log(r);for(let o of[0,1,2])0===r[t][o]&&(l=0),0===r[o][e]&&(s=0),0===r[o][o]&&(a=0),0===r[o][2-o]&&(n=0);0===l&&0===s&&0===a&&0===n?console.log("not cleared"):(console.log("cleared"),this.gameSet())}gameSet(){r(1,n="ゲームが終了しました"),this.player1State=[[0,0,0],[0,0,0],[0,0,0]],this.player2State=[[0,0,0],[0,0,0],[0,0,0]]}}),[a,n,s,l]}new class extends t{constructor(t){super(),e(this,t,U,R,r,{})}}({target:document.getElementById("app")});
