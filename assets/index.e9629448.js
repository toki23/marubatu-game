import{S as t,i as e,s as l,e as r,a as s,t as a,c as n,b as o,d as c,f as h,g as i,h as g,j as u,k as f,l as d,m,n as p,o as b,p as y,q as v,r as k,u as S,v as $,w,x as P,y as x}from"./vendor.de7152ba.js";function E(t,e,l){const r=t.slice();return r[6]=e[l],r}function B(t,e,l){const r=t.slice();return r[9]=e[l],r}function N(t){let e,l,s,c,p,b=t[1][t[6]][t[9]]+"";function y(){return t[5](t[6],t[9])}return{c(){e=r("button"),l=a(b),this.h()},l(t){e=n(t,"BUTTON",{class:!0});var r=o(e);l=h(r,b),r.forEach(i),this.h()},h(){g(e,"class",s=t[4](t[6],t[9],t[1][t[6]][t[9]]))},m(t,r){u(t,e,r),f(e,l),c||(p=d(e,"click",y),c=!0)},p(r,a){t=r,2&a&&b!==(b=t[1][t[6]][t[9]]+"")&&m(l,b),2&a&&s!==(s=t[4](t[6],t[9],t[1][t[6]][t[9]]))&&g(e,"class",s)},d(t){t&&i(e),c=!1,p()}}}function T(t){let e,l,a=t[3],o=[];for(let r=0;r<a.length;r+=1)o[r]=N(B(t,a,r));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=s(),l=r("br")},l(t){for(let e=0;e<o.length;e+=1)o[e].l(t);e=c(t),l=n(t,"BR",{})},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);u(t,e,r),u(t,l,r)},p(t,l){if(27&l){let r;for(a=t[3],r=0;r<a.length;r+=1){const s=B(t,a,r);o[r]?o[r].p(s,l):(o[r]=N(s),o[r].c(),o[r].m(e.parentNode,e))}for(;r<o.length;r+=1)o[r].d(1);o.length=a.length}},d(t){p(o,t),t&&i(e),t&&i(l)}}}function C(t){let e,l,m,b,y,k,S,$,w=t[3],P=[];for(let r=0;r<w.length;r+=1)P[r]=T(E(t,w,r));return{c(){e=r("div");for(let t=0;t<P.length;t+=1)P[t].c();l=s(),m=r("br"),b=s(),y=r("button"),k=a("ゲームスタート"),this.h()},l(t){e=n(t,"DIV",{class:!0});var r=o(e);for(let e=0;e<P.length;e+=1)P[e].l(r);l=c(r),m=n(r,"BR",{}),b=c(r),y=n(r,"BUTTON",{class:!0});var s=o(y);k=h(s,"ゲームスタート"),s.forEach(i),r.forEach(i),this.h()},h(){g(y,"class","border-2 border-black hover:bg-black hover:text-white"),g(e,"class","text-center")},m(r,s){u(r,e,s);for(let t=0;t<P.length;t+=1)P[t].m(e,null);f(e,l),f(e,m),f(e,b),f(e,y),f(y,k),S||($=d(y,"click",(function(){v(t[0].start)&&t[0].start.apply(this,arguments)})),S=!0)},p(r,s){if(t=r,27&s){let r;for(w=t[3],r=0;r<w.length;r+=1){const a=E(t,w,r);P[r]?P[r].p(a,s):(P[r]=T(a),P[r].c(),P[r].m(e,l))}for(;r<P.length;r+=1)P[r].d(1);P.length=w.length}},d(t){t&&i(e),p(P,t),S=!1,$()}}}function I(t){let e,r=t[2],s=C(t);return{c(){s.c(),e=b()},l(t){s.l(t),e=b()},m(t,l){s.m(t,l),u(t,e,l)},p(t,[a]){4&a&&l(r,r=t[2])?(s.d(1),s=C(t),s.c(),s.m(e.parentNode,e)):s.p(t,a)},i:y,o:y,d(t){t&&i(e),s.d(t)}}}function j(t,e,l){let{gm:r}=e,{block:s}=e,{turn:a}=e;return t.$$set=t=>{"gm"in t&&l(0,r=t.gm),"block"in t&&l(1,s=t.block),"turn"in t&&l(2,a=t.turn)},[r,s,a,[0,1,2],(t,e,l)=>{let r="";console.log("gm turn",a),1===a&&0===l?r="hover:bg-red-500":0===a&&0===l&&(r="hover:bg-blue-500");let s="";return 2===l?s="bg-red-500":1===l&&(s="bg-blue-500"),"w-20 h-20 border "+r+" "+s},(t,e)=>{r.clicked(t,e)}]}class D extends t{constructor(t){super(),e(this,t,j,I,l,{gm:0,block:1,turn:2})}}function O(t){let e,l,d,p,b,y;return l=new D({props:{gm:t[3],block:t[0],turn:t[2]}}),{c(){e=r("div"),k(l.$$.fragment),d=s(),p=r("p"),b=a(t[1]),this.h()},l(r){e=n(r,"DIV",{class:!0});var s=o(e);S(l.$$.fragment,s),d=c(s),p=n(s,"P",{class:!0});var a=o(p);b=h(a,t[1]),a.forEach(i),s.forEach(i),this.h()},h(){g(p,"class","text-center"),g(e,"class","bg-gray-300 mr-auto ml-auto shadow-lg w-60")},m(t,r){u(t,e,r),$(l,e,null),f(e,d),f(e,p),f(p,b),y=!0},p(t,[e]){const r={};8&e&&(r.gm=t[3]),1&e&&(r.block=t[0]),4&e&&(r.turn=t[2]),l.$set(r),(!y||2&e)&&m(b,t[1])},i(t){y||(w(l.$$.fragment,t),y=!0)},o(t){P(l.$$.fragment,t),y=!1},d(t){t&&i(e),x(l)}}}function R(t,e,l){let r,s,a=[[0,0,0],[0,0,0],[0,0,0]],n="",o=!1;var c,h;(h=c||(c={}))[h.Player1=0]="Player1",h[h.Player2=1]="Player2";return l(3,r=new class{constructor(){this.row=[0,1,2],this.player1State=[[0,0,0],[0,0,0],[0,0,0]],this.player2State=[[0,0,0],[0,0,0],[0,0,0]],this.row=[0,1,2],l(2,s=c.Player1)}clicked(t,e){console.log(o),0===a[t][e]&&o&&(s==c.Player1?(l(0,a[t][e]=1,a),l(1,n="プレイヤー2はボタンを押してください"),this.player2State[t][e]=1,this.isCleared(t,e,this.player2State),l(2,s=c.Player2)):(l(0,a[t][e]=2,a),l(1,n="プレイヤー1はボタンを押してください"),this.player1State[t][e]=2,this.isCleared(t,e,this.player1State),l(2,s=c.Player1)))}start(){l(1,n="プレイヤー1はボタンを押してください"),o=!0,console.log(o),l(0,a=[[0,0,0],[0,0,0],[0,0,0]])}isCleared(t,e,l){let r=1,s=1,a=1,n=1;console.log(l);for(let o of[0,1,2])0===l[t][o]&&(r=0),0===l[o][e]&&(s=0),0===l[o][o]&&(a=0),0===l[o][2-o]&&(n=0);0===r&&0===s&&0===a&&0===n?console.log("not cleared"):(console.log("cleared"),this.gameSet())}gameSet(){l(1,n="ゲームが終了しました"),this.player1State=[[0,0,0],[0,0,0],[0,0,0]],this.player2State=[[0,0,0],[0,0,0],[0,0,0]]}}),[a,n,s,r]}new class extends t{constructor(t){super(),e(this,t,R,O,l,{})}}({target:document.getElementById("app")});
